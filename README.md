# ğŸ”– xhs-publisher

å°çº¢ä¹¦è‡ªåŠ¨åŒ–å‘å¸ƒ Skill â€” åŸºäº Playwright æµè§ˆå™¨è‡ªåŠ¨åŒ–ï¼Œæ”¯æŒæ‰«ç ç™»å½•ã€AI æ™ºèƒ½é…å›¾ã€è‡ªåŠ¨å‘å¸ƒå›¾æ–‡ç¬”è®°ã€‚

ä¸“ä¸º [OpenClaw](https://github.com/openclaw/openclaw) AI åŠ©æ‰‹è®¾è®¡çš„ AgentSkillã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ” **æŒä¹…åŒ–ç™»å½•** â€” æ‰«ç ä¸€æ¬¡ï¼Œåç»­å…ç™»å½•ï¼ˆPlaywright persistent contextï¼‰
- ğŸ¨ **AI æ™ºèƒ½é…å›¾** â€” æ ¹æ®ç¬”è®°å†…å®¹è‡ªåŠ¨ç”Ÿæˆé…å›¾ï¼Œä¼˜å…ˆ Gemini 3 Pro Imageï¼Œé™çº§é€šä¹‰ä¸‡ç›¸
- ğŸ“ **è‡ªåŠ¨å‘å¸ƒ** â€” æ ‡é¢˜ã€æ­£æ–‡ã€æ ‡ç­¾ã€å›¾ç‰‡å…¨è‡ªåŠ¨å¡«å†™å‘å¸ƒ
- ğŸ“¸ **æˆªå›¾è®°å½•** â€” å®Œæ•´çš„å‘å¸ƒè¿‡ç¨‹æˆªå›¾ï¼Œä¾¿äºè°ƒè¯•éªŒè¯
- ğŸ§ª **è¯•è¿è¡Œ** â€” dry-run æ¨¡å¼é¢„è§ˆï¼Œä¸å®é™…å‘å¸ƒ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
pip install playwright pillow
playwright install chromium
```

### é¦–æ¬¡ç™»å½•

```bash
python3 scripts/xhs_auto.py login
```

æµè§ˆå™¨æ‰“å¼€åï¼Œç”¨å°çº¢ä¹¦ APP æ‰«æäºŒç»´ç ã€‚ç™»å½•æˆåŠŸåä¼šè¯è‡ªåŠ¨æŒä¹…åŒ–ã€‚

### å‘å¸ƒç¬”è®°

```bash
# ç›´æ¥æŒ‡å®šå†…å®¹ï¼ˆè‡ªåŠ¨ç”Ÿæˆ AI é…å›¾ï¼‰
python3 scripts/xhs_auto.py publish \
  --title "ç¬”è®°æ ‡é¢˜" \
  --content "ç¬”è®°æ­£æ–‡" \
  --tags "æ ‡ç­¾1,æ ‡ç­¾2"

# ä» JSON æ–‡ä»¶å‘å¸ƒ
python3 scripts/xhs_auto.py publish --file content/post.json

# æŒ‡å®šè‡ªå®šä¹‰å›¾ç‰‡
python3 scripts/xhs_auto.py publish \
  --title "æ ‡é¢˜" --content "æ­£æ–‡" \
  --images "img1.png,img2.png"

# è¯•è¿è¡Œ
python3 scripts/xhs_auto.py publish --file content/post.json --dry-run
```

### æ£€æŸ¥ç™»å½•çŠ¶æ€

```bash
python3 scripts/xhs_auto.py status
```

## ğŸ¨ AI é…å›¾

å‘å¸ƒæ—¶æœªæŒ‡å®šå›¾ç‰‡ï¼Œè‡ªåŠ¨æ ¹æ®æ ‡é¢˜å’Œæ­£æ–‡ç”Ÿæˆ AI é…å›¾ï¼š

| ä¼˜å…ˆçº§ | å¼•æ“ | è¯´æ˜ |
|--------|------|------|
| 1 | nano-banana-pro (Gemini 3 Pro Image) | éœ€ä»£ç†è®¿é—® Google API |
| 2 | qwen-image (é€šä¹‰ä¸‡ç›¸) | å›½å†…ç›´è¿ï¼Œä»£ç†ä¸é€šæ—¶è‡ªåŠ¨é™çº§ |
| 3 | é»˜è®¤å°é¢ | ä»¥ä¸Šéƒ½å¤±è´¥æ—¶ï¼Œç”Ÿæˆå¸¦æ ‡é¢˜æ–‡å­—çš„å°é¢ |

é…å›¾ç”Ÿæˆå™¨ä¹Ÿå¯ç‹¬ç«‹ä½¿ç”¨ï¼š

```bash
python3 scripts/image_gen.py --prompt "å›¾ç‰‡æè¿°" --output "output.png" --resolution 1K
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
xhs-publisher/
â”œâ”€â”€ SKILL.md              # OpenClaw æŠ€èƒ½æ–‡æ¡£
â”œâ”€â”€ README.md             # æœ¬æ–‡ä»¶
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ xhs_auto.py       # æ ¸å¿ƒè‡ªåŠ¨åŒ–è„šæœ¬ï¼ˆç™»å½•/å‘å¸ƒ/çŠ¶æ€ï¼‰
â”‚   â””â”€â”€ image_gen.py       # AI é…å›¾ç”Ÿæˆå™¨ï¼ˆGemini ä¼˜å…ˆï¼Œé€šä¹‰ä¸‡ç›¸é™çº§ï¼‰
â”œâ”€â”€ browser_data/          # æŒä¹…åŒ–æµè§ˆå™¨æ•°æ®ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼Œå‹¿æäº¤ï¼‰
â”œâ”€â”€ content/               # å†…å®¹æ–‡ä»¶å’Œç”Ÿæˆçš„é…å›¾ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”œâ”€â”€ screenshots/           # å‘å¸ƒè¿‡ç¨‹æˆªå›¾ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â””â”€â”€ logs/                  # è¿è¡Œæ—¥å¿—å’Œå‘å¸ƒæŠ¥å‘Šï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
```

## âš™ï¸ é…ç½®

### API Key

åœ¨ `~/.openclaw/openclaw.json` ä¸­é…ç½®ï¼š

```json
{
  "skills": {
    "entries": {
      "nano-banana-pro": {
        "apiKey": "ä½ çš„ Gemini API Key"
      }
    }
  },
  "models": {
    "providers": {
      "bailian": {
        "apiKey": "ä½ çš„é€šä¹‰ä¸‡ç›¸ API Key"
      }
    }
  }
}
```

### ä»£ç†ï¼ˆè®¿é—® Google APIï¼‰

```bash
export HTTPS_PROXY=http://127.0.0.1:7897
export HTTP_PROXY=http://127.0.0.1:7897
```

## ğŸ“– JSON å†…å®¹æ ¼å¼

```json
{
  "title": "ç¬”è®°æ ‡é¢˜ï¼ˆä¸è¶…è¿‡20å­—ï¼‰",
  "content": "ç¬”è®°æ­£æ–‡ï¼ˆä¸è¶…è¿‡1000å­—ï¼‰",
  "tags": ["æ ‡ç­¾1", "æ ‡ç­¾2", "æ ‡ç­¾3"],
  "images": ["path/to/img1.png"]
}
```

## âš ï¸ æ³¨æ„äº‹é¡¹

- æ ‡é¢˜ä¸è¶…è¿‡ 20 å­—ï¼Œæ­£æ–‡ä¸è¶…è¿‡ 1000 å­—
- å»ºè®®æ¯æ—¥å‘å¸–ä¸è¶…è¿‡ 10 ç¯‡
- åŒä¸€è´¦å·ä¸å…è®¸å¤šä¸ªç½‘é¡µç«¯åŒæ—¶ç™»å½•
- `browser_data/` åŒ…å«ç™»å½•å‡­æ®ï¼Œè¯·å¦¥å–„ä¿ç®¡
- æœ¬å·¥å…·ä»…ä¾›å­¦ä¹ ç ”ç©¶ï¼Œè¯·éµå®ˆå°çº¢ä¹¦å¹³å°è§„åˆ™

## ğŸ“„ License

MIT
